{"ast":null,"code":"import _toConsumableArray from\"C:/Users/heybr/OneDrive/Desktop/Task4/task4/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/heybr/OneDrive/Desktop/Task4/task4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/heybr/OneDrive/Desktop/Task4/task4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/heybr/OneDrive/Desktop/Task4/task4/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./css/AdminStyles.css';import'./css/TableStyles.css';import'./css/LoginStyle.scss';import{useSelector,useDispatch}from'react-redux';import{SelectedUsers,Messages}from'./redux/reducers';import CurrentHost from'./host';import React from'react';import{json}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var currentHost=CurrentHost();export function AdminPanel(){var All_User=useSelector(function(states){return states.SelectedUsers;}).Selected_IDs;var SelecteOnes=useSelector(function(states){return states.SelectedUsers.Selected_IDs;});var UpdatePath_All_IDs=SelectedUsers.actions.UpdateAll;var All_Users=useSelector(function(states){return states.SelectedUsers.All_IDs;});var success_message=useSelector(function(states){return states.Alerts.Success_Message;});var error_message=useSelector(function(states){return states.Alerts.Error_message;});var Reset_all_Box=SelectedUsers.actions.Reset_all_checkboxes;var Error_message=Messages.actions.UpdateErrorMessage;var Success_message=Messages.actions.UpdateSuccessMessage;var message=error_message?/*#__PURE__*/_jsx(ErrorMessage,{message:error_message}):null||success_message?/*#__PURE__*/_jsx(SuccessMessage,{message:success_message}):null;var token=localStorage.getItem('AdminTokenXXX');var dispatch=useDispatch();var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],update_name=_React$useState2[1];function getAllUsers(){return _getAllUsers.apply(this,arguments);}function _getAllUsers(){_getAllUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var request,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(currentHost+'GetUsers/',{method:'GET',headers:{'Authorization':\"Token \".concat(token)}});case 2:request=_context.sent;if(!(request.status==200)){_context.next=9;break;}_context.next=6;return request.json();case 6:result=_context.sent;update_name(function(MAin){return result.currentUser.name;});dispatch(UpdatePath_All_IDs(result.users));case 9:case\"end\":return _context.stop();}},_callee);}));return _getAllUsers.apply(this,arguments);}function Logout(){localStorage.removeItem('AdminTokenXXX');window.location.pathname='../login';}function DeleteSelected(){return _DeleteSelected.apply(this,arguments);}function _DeleteSelected(){_DeleteSelected=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,parsed_Data,Updated_users,DeletedRemoved;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!SelecteOnes){_context2.next=8;break;}_context2.next=3;return fetch(currentHost+'DeleteUsers/',{method:'DELETE',headers:{'Authorization':\"Token \".concat(token)},body:JSON.stringify(SelecteOnes)});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:parsed_Data=_context2.sent;if(response.status==200){Updated_users=parsed_Data.DeletedUsers;DeletedRemoved=All_Users.filter(function(user){return!Updated_users.includes(user.id);});dispatch(UpdatePath_All_IDs(DeletedRemoved));dispatch(Reset_all_Box());console.log(response.currentDeleted);if(response.currentDeleted){dispatch(Error_message('You have Been Deleted as Well !'));setTimeout(function(){window.location.pathname='../login';},999);}else{}dispatch(Success_message('SuccessFully Updated!'));}case 8:case\"end\":return _context2.stop();}},_callee2);}));return _DeleteSelected.apply(this,arguments);}React.useEffect(function(Main){getAllUsers();},[error_message,success_message]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"shell\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"top\",children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Task #4 Admin Panel\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"top-navigation\",children:[\" Welcome \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[name?name:'Admin',\" \"]})}),/*#__PURE__*/_jsx(\"span\",{children:\"|\"}),\" \",/*#__PURE__*/_jsx(\"a\",{onClick:Logout,children:\"Log out\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"navigation\",children:/*#__PURE__*/_jsx(\"ul\",{})})]})}),/*#__PURE__*/_jsx(\"div\",{id:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"shell\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"small-nav\",children:[\" \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Admin Dashboard\"})]}),message?message:null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{id:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"content\",children:[/*#__PURE__*/_jsx(LockButton,{}),/*#__PURE__*/_jsx(UnlockButton,{}),/*#__PURE__*/_jsxs(\"button\",{onClick:DeleteSelected,style:{'marginLeft':'20px'},className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"white\",className:\"bi bi-trash-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"})}),\" \",/*#__PURE__*/_jsx(\"small\",{children:\"Delete Selected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-head\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"left\",children:\"Users in the Database \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"small\",{children:\"search users\"})}),/*#__PURE__*/_jsx(\"input\",{style:{width:'180px'},className:\"form-control\",type:\"text\"}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-warning\",type:\"submit\",value:\"search\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsx(UsersTable,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-head\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Management\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-content\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"25\",height:\"25\",fill:\"currentColor\",className:\"bi bi-plus-square\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"})]}),\" add user\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sort by\"}),/*#__PURE__*/_jsx(\"select\",{className:\"field\",children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Title\"})}),/*#__PURE__*/_jsx(\"select\",{className:\"field\",children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Last login\"})}),/*#__PURE__*/_jsx(\"select\",{className:\"field\",children:/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Status\"})})]})]})]})})]})]})})]});}function User_Object(UsersProperties){return/*#__PURE__*/_jsxs(\"tr\",{className:\"odd\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"checkbox\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[UsersProperties.username,\".\"]})})}),/*#__PURE__*/_jsx(\"td\",{children:UsersProperties.LastLogin}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:UsersProperties.status})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"ico del\",children:UsersProperties.user}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"ico edit\",children:\"Edit\"})]})]});}function SuccessMessage(_ref){var message=_ref.message;var dispatch=useDispatch();var Success_message=Messages.actions.UpdateSuccessMessage;var remove_success_alert=function remove_success_alert(){dispatch(Success_message('reset'));console.log('alert removed');};return/*#__PURE__*/_jsxs(\"div\",{className:\"msg msg-ok\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:message})}),/*#__PURE__*/_jsx(\"a\",{onClick:remove_success_alert,className:\"close\",children:\"close\"}),\" \"]});}function ErrorMessage(_ref2){var message=_ref2.message;var dispatch=useDispatch();var Error_message=Messages.actions.UpdateErrorMessage;var remove_error=function remove_error(){dispatch(Error_message(null));};return/*#__PURE__*/_jsxs(\"div\",{className:\"msg msg-error\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:message})}),/*#__PURE__*/_jsx(\"a\",{onClick:remove_error,className:\"close\",children:\"close\"}),\" \"]});}function UnlockButton(){var users=useSelector(function(states){return states.SelectedUsers.Selected_IDs;});var All_Users=useSelector(function(states){return states.SelectedUsers.All_IDs;});var UpdatePath_All_IDs=SelectedUsers.actions.UpdateAll;var Reset_all_Box=SelectedUsers.actions.Reset_all_checkboxes;var Error_message=Messages.actions.UpdateErrorMessage;var Success_message=Messages.actions.UpdateSuccessMessage;var dispatch=useDispatch();function TakeAction(){if(!users.length==0){var token=localStorage.getItem('AdminTokenXXX');fetch(currentHost+'LockUsers/a/',{method:'POST',headers:{'Authorization':\"Token \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(users)}).then(function(Result){return Result.json().then(function(Response){console.log();if(Response){var Updated_users=Response.updated_users;var Updated_user_ids=Updated_users.map(function(backendUser){return backendUser.id;});var unchanged_users=All_Users.filter(function(user){return!Updated_user_ids.includes(user.id);});var all_updated_data=[].concat(_toConsumableArray(unchanged_users),_toConsumableArray(Updated_users));dispatch(UpdatePath_All_IDs(all_updated_data));dispatch(Reset_all_Box(true));dispatch(Success_message('SuccessFully Activated!'));}else{dispatch(Error_message('Something Went Wrong'));}});});}else{// Error\n}}var style={width:'60px',height:'40px',marginLeft:'3px'};return/*#__PURE__*/_jsx(\"button\",{onClick:TakeAction,style:style,className:\"btn btn-secondary\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"white\",className:\"bi bi-unlock-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2z\"})})});}function LockButton(){var users=useSelector(function(states){return states.SelectedUsers.Selected_IDs;});var All_Users=useSelector(function(states){return states.SelectedUsers.All_IDs;});var UpdatePath_All_IDs=SelectedUsers.actions.UpdateAll;var Reset_all_Box=SelectedUsers.actions.Reset_all_checkboxes;var Error_message=Messages.actions.UpdateErrorMessage;var Success_message=Messages.actions.UpdateSuccessMessage;var dispatch=useDispatch();function TakeAction(){if(!users.length==0){var token=localStorage.getItem('AdminTokenXXX');fetch(currentHost+'LockUsers/d/',{method:'POST',headers:{'Authorization':\"Token \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(users)}).then(function(Result){return Result.json().then(function(Response){if(Response){var Updated_users=Response.updated_users;var Updated_user_ids=Updated_users.map(function(backendUser){return backendUser.id;});var unchanged_users=All_Users.filter(function(user){return!Updated_user_ids.includes(user.id);});var all_updated_data=[].concat(_toConsumableArray(unchanged_users),_toConsumableArray(Updated_users));dispatch(UpdatePath_All_IDs(all_updated_data));dispatch(Reset_all_Box(true));if(Response.current_blocked){dispatch(Error_message('You have Been Blocked !'));setTimeout(function(){window.location.pathname='../login';},999);}else{dispatch(Success_message('SuccessFully Blocked!'));}}});});}else{dispatch(Error_message('You have Been Blocked !'));setTimeout(function(){window.location.pathname='../login';},999);}}var style={width:'60px',height:'40px'};return/*#__PURE__*/_jsx(\"button\",{onClick:TakeAction,style:style,className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",fill:\"white\",className:\"bi bi-lock-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\"})})});}function UsersTable(){var users=useSelector(function(states){return states.SelectedUsers;});var All_Selected=useSelector(function(states){return states.SelectedUsers.all_selected;});var ID_list=users.All_IDs;var selected_IDs=users.Selected_IDs;var dispatch=useDispatch();var UpdatePath_Selected_IDs=SelectedUsers.actions.UpdateSelected;var all_selected_path=SelectedUsers.actions.Update_All_selected;var processedUsers=ID_list.map(function(User){return/*#__PURE__*/_jsx(UserTableLine,{user_id:User.id,name:User.Name,email:User.email,status:User.status,last_login:User.last_login},User.id);});var raw_IDs=ID_list.map(function(Each){return Each.id;});function select_all(){if(!All_Selected){dispatch(UpdatePath_Selected_IDs(_toConsumableArray(raw_IDs)));}else{dispatch(UpdatePath_Selected_IDs([]));}dispatch(all_selected_path(!All_Selected));}function UserTableLine(_ref3){var user_id=_ref3.user_id,name=_ref3.name,email=_ref3.email,last_login=_ref3.last_login,status=_ref3.status;var Checked=selected_IDs.includes(user_id);function removeDigitFromArray(array,digitToRemove){return array.filter(function(element){return element!==digitToRemove;});}function HandleChange(){var updated_list;if(Checked){updated_list=removeDigitFromArray(selected_IDs,user_id);}else{updated_list=[].concat(_toConsumableArray(selected_IDs),[user_id]);}dispatch(UpdatePath_Selected_IDs(updated_list));}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{checked:Checked,onChange:HandleChange,type:\"checkbox\"})}),/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:email}),/*#__PURE__*/_jsxs(\"td\",{children:[last_login[0],\" \",last_login[1]]}),/*#__PURE__*/_jsx(\"td\",{children:status})]});}return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{children:[/*#__PURE__*/_jsx(\"small\",{style:{marginLeft:'-1px',marginBottom:'5px'},children:\"All\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{checked:All_Selected,onChange:select_all,type:\"checkbox\",id:\"selectAll\"})]}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Login\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:processedUsers})]});}export function LoginPage(){var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],update_error=_React$useState4[1];var emailField=React.useRef(null);var passwordField=React.useRef(null);var Authentication=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var email,password,host,request,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:event.preventDefault();email=emailField.current.value;password=passwordField.current.value;if(!(email&&password)){_context3.next=13;break;}host=CurrentHost();_context3.next=7;return fetch(host+'auth/',{method:'POST',body:JSON.stringify({email:email,password:password})});case 7:request=_context3.sent;_context3.next=10;return request.json();case 10:response=_context3.sent;if(request.status===200){localStorage.setItem('AdminTokenXXX',response.token);localStorage.setItem('LoginAttempt',true);}if(request.status===401||request.status===500){update_error(function(Main){return/*#__PURE__*/_jsx(ErrorMessage,{message:'This account does not exist or is blocked!'});});}case 13:case\"end\":return _context3.stop();}},_callee3);}));return function Authentication(_x){return _ref4.apply(this,arguments);};}();React.useEffect(function(Main){if(localStorage.getItem('LoginAttempt')){localStorage.setItem('LoginAttempt',false);window.location.pathname='./admin';}},[]);return/*#__PURE__*/_jsxs(\"div\",{id:\"loginBase\",children:[/*#__PURE__*/_jsx(\"br\",{}),error?error:null,/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"screen__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login__field\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"login__icon fas fa-user\"}),/*#__PURE__*/_jsx(\"input\",{ref:emailField,type:\"text\",className:\"login__input\",placeholder:\"Your Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__field\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"login__icon fas fa-lock\"}),/*#__PURE__*/_jsx(\"input\",{ref:passwordField,type:\"password\",className:\"login__input\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",onClick:Authentication,className:\"button login__submit\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"button__text\",children:\"Log In Now\"}),/*#__PURE__*/_jsx(\"i\",{className:\"button__icon fas fa-chevron-right\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"social-login\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Task 4 Admin Authentication\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"screen__background\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"screen__background__shape screen__background__shape4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"screen__background__shape screen__background__shape3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"screen__background__shape screen__background__shape2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"screen__background__shape screen__background__shape1\"})]})]})})]});}","map":{"version":3,"names":["useSelector","useDispatch","SelectedUsers","Messages","CurrentHost","React","json","jsx","_jsx","jsxs","_jsxs","currentHost","AdminPanel","All_User","states","Selected_IDs","SelecteOnes","UpdatePath_All_IDs","actions","UpdateAll","All_Users","All_IDs","success_message","Alerts","Success_Message","error_message","Error_message","Reset_all_Box","Reset_all_checkboxes","UpdateErrorMessage","Success_message","UpdateSuccessMessage","message","ErrorMessage","SuccessMessage","token","localStorage","getItem","dispatch","_React$useState","useState","_React$useState2","_slicedToArray","name","update_name","getAllUsers","_getAllUsers","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","request","result","wrap","_callee$","_context","prev","next","fetch","method","headers","concat","sent","status","MAin","currentUser","users","stop","Logout","removeItem","window","location","pathname","DeleteSelected","_DeleteSelected","_callee2","response","parsed_Data","Updated_users","DeletedRemoved","_callee2$","_context2","body","JSON","stringify","DeletedUsers","filter","user","includes","id","console","log","currentDeleted","setTimeout","useEffect","Main","children","className","href","onClick","LockButton","UnlockButton","style","xmlns","width","height","fill","viewBox","d","type","value","UsersTable","User_Object","UsersProperties","username","LastLogin","_ref","remove_success_alert","_ref2","remove_error","TakeAction","length","then","Result","Response","updated_users","Updated_user_ids","map","backendUser","unchanged_users","all_updated_data","_toConsumableArray","marginLeft","current_blocked","All_Selected","all_selected","ID_list","selected_IDs","UpdatePath_Selected_IDs","UpdateSelected","all_selected_path","Update_All_selected","processedUsers","User","UserTableLine","user_id","Name","email","last_login","raw_IDs","Each","select_all","_ref3","Checked","removeDigitFromArray","array","digitToRemove","element","HandleChange","updated_list","checked","onChange","marginBottom","LoginPage","_React$useState3","_React$useState4","error","update_error","emailField","useRef","passwordField","Authentication","_ref4","_callee3","event","password","host","_callee3$","_context3","preventDefault","current","setItem","_x","ref","placeholder"],"sources":["C:/Users/heybr/OneDrive/Desktop/Task4/task4/src/components.js"],"sourcesContent":["import './css/AdminStyles.css'\r\nimport './css/TableStyles.css'\r\nimport './css/LoginStyle.scss'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {SelectedUsers, Messages} from './redux/reducers';\r\nimport  CurrentHost from './host'\r\nimport React from 'react'\r\nimport { json } from 'react-router-dom';\r\nconst currentHost = CurrentHost()\r\n\r\nexport function AdminPanel(){\r\n\r\n\r\n    const All_User =  useSelector((states)=>states.SelectedUsers).Selected_IDs\r\n    const SelecteOnes =  useSelector((states)=>states.SelectedUsers.Selected_IDs)\r\n    const UpdatePath_All_IDs = SelectedUsers.actions.UpdateAll\r\n    const All_Users =  useSelector((states)=>states.SelectedUsers.All_IDs)\r\n    const success_message = useSelector((states)=>states.Alerts.Success_Message)\r\n    const error_message = useSelector((states)=>states.Alerts.Error_message)\r\n    const Reset_all_Box = SelectedUsers.actions.Reset_all_checkboxes\r\n    const Error_message = Messages.actions.UpdateErrorMessage\r\n    const Success_message = Messages.actions.UpdateSuccessMessage\r\n    const message = error_message ? <ErrorMessage message={error_message}/> : null || success_message ? <SuccessMessage message={success_message}/> : null   \r\n    const token = localStorage.getItem('AdminTokenXXX')\r\n    const dispatch = useDispatch()\r\n    const [name, update_name] = React.useState(null);\r\n\r\n\r\n    async function getAllUsers(){\r\n\r\n        const request = await fetch(currentHost+'GetUsers/', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization': `Token ${token}`,\r\n            },\r\n        })\r\n        if (request.status==200){\r\n            const result = await request.json()\r\n            update_name(MAin=>result.currentUser.name)\r\n            dispatch(UpdatePath_All_IDs(result.users))\r\n        }\r\n    }\r\n\r\n    function Logout(){\r\n        localStorage.removeItem('AdminTokenXXX')\r\n        window.location.pathname = '../login'\r\n    }\r\n\r\n    async function DeleteSelected(){\r\n        if (SelecteOnes){\r\n            const response = await fetch(currentHost+'DeleteUsers/', { \r\n                method:'DELETE',\r\n                headers: {\r\n                    'Authorization': `Token ${token}`,\r\n                },\r\n                body:JSON.stringify(SelecteOnes)\r\n            }\r\n        )\r\n            const parsed_Data = await response.json()\r\n            if (response.status==200){\r\n                const Updated_users    = parsed_Data.DeletedUsers\r\n                const DeletedRemoved   = All_Users.filter((user) => !Updated_users.includes(user.id));\r\n                dispatch(UpdatePath_All_IDs(DeletedRemoved))\r\n                dispatch(Reset_all_Box())\r\n                console.log(response.currentDeleted)\r\n                if (response.currentDeleted){\r\n                    \r\n                    dispatch(Error_message('You have Been Deleted as Well !'))\r\n                    setTimeout(() => {\r\n                        window.location.pathname = '../login'\r\n                    }, 999);\r\n\r\n                }else{\r\n                    \r\n                }\r\n                dispatch(Success_message('SuccessFully Updated!'))\r\n            }\r\n    }\r\n    }\r\n\r\n    React.useEffect(Main=>{\r\n        getAllUsers()\r\n    }, [error_message, success_message])\r\n\r\n    return (\r\n        <div>\r\n            <div id=\"header\">\r\n                <div className=\"shell\">\r\n\r\n                    <div id=\"top\">\r\n                    <h1><a href=\"#\">Task #4 Admin Panel</a></h1>\r\n                    <div id=\"top-navigation\"> Welcome <a href=\"#\"><strong>{name ? name : 'Admin'} </strong></a><span>|</span> <a onClick={Logout}>Log out</a> </div>\r\n                    </div>\r\n\r\n                    <div id=\"navigation\">\r\n                    <ul>\r\n                        \r\n\r\n                    </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div id=\"container\">\r\n            <div className=\"shell\">\r\n\r\n                <div className=\"small-nav\"> <a href=\"#\">Admin Dashboard</a></div>\r\n\r\n                    {message ? message : null}\r\n           \r\n\r\n                <br />\r\n\r\n                <div id=\"main\">\r\n        \r\n                <div id=\"content\">\r\n                        <LockButton/>\r\n                        \r\n                        <UnlockButton/>\r\n\r\n                        <button onClick={DeleteSelected} style={{'marginLeft':'20px'}} className='btn btn-danger'>\r\n                        \r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"white\" className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\"/>\r\n                            </svg> <small>Delete Selected</small>\r\n\r\n                        </button>\r\n\r\n                    <div className=\"box\">\r\n                    \r\n                    <div className=\"box-head\">\r\n                        <h2 className=\"left\">Users in the Database </h2>\r\n                        <div className=\"right\">\r\n                        <label><small>search users</small></label>\r\n                \r\n                            <input style={{width:'180px'}} className='form-control' type=\"text\"/>\r\n                            <input className='btn btn-warning' type=\"submit\" value=\"search\"/>\r\n                \r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                    <div className=\"table\">\r\n\r\n                        {<UsersTable/>}\r\n\r\n                    </div>\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n            \r\n                <div id=\"sidebar\">\r\n                \r\n                    <div className=\"box\">\r\n                \r\n                    <div className=\"box-head\">\r\n                        <h2>Management</h2>\r\n                    </div>\r\n\r\n                    <div className=\"box-content\">\r\n                        <button className='btn btn-primary'>\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" className=\"bi bi-plus-square\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n                                <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\"/>\r\n                            </svg> add user\r\n                        </button>\r\n\r\n                        <br/>\r\n                        <br/>\r\n                       \r\n\r\n                \r\n                        <div className=\"sort\">\r\n                        <label>Sort by</label>\r\n                        <select className=\"field\">\r\n                            <option value=\"\">Title</option>\r\n                        </select>\r\n                        <select className=\"field\">\r\n                            <option value=\"\">Last login</option>\r\n                        </select>\r\n                        <select className=\"field\">\r\n                            <option value=\"\">Status</option>\r\n                        </select>\r\n                        </div>\r\n            \r\n                    </div>\r\n                    </div>\r\n                \r\n                </div>\r\n\r\n        \r\n                </div>\r\n\r\n            </div>\r\n            </div>\r\n\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\nfunction User_Object(UsersProperties){\r\n    return (\r\n        <tr className=\"odd\">\r\n            <td><input type=\"checkbox\" className=\"checkbox\" /></td>\r\n            <td><h3><a href=\"#\">{UsersProperties.username}.</a></h3></td>\r\n            <td>{UsersProperties.LastLogin}</td>\r\n            <td><a href=\"#\">{UsersProperties.status}</a></td>\r\n            <td><a href=\"#\" className=\"ico del\">{UsersProperties.user}</a><a href=\"#\" className=\"ico edit\">Edit</a></td>\r\n        </tr>\r\n    )\r\n}\r\n\r\n\r\nfunction SuccessMessage({message}){\r\n    const dispatch = useDispatch()\r\n    const Success_message = Messages.actions.UpdateSuccessMessage\r\n    const remove_success_alert = ()=>{\r\n        dispatch(Success_message('reset'))\r\n        console.log('alert removed')\r\n    }\r\n    return (\r\n        <div className=\"msg msg-ok\">\r\n            <p><strong>{message}</strong></p>\r\n        <a onClick={remove_success_alert} className=\"close\">close</a> </div>\r\n    )\r\n}\r\n\r\nfunction ErrorMessage({message}){\r\n    const dispatch = useDispatch()\r\n    const Error_message = Messages.actions.UpdateErrorMessage\r\n    const remove_error = ()=>{\r\n        dispatch(Error_message(null))\r\n        \r\n    }\r\n    return (\r\n        <div className=\"msg msg-error\">\r\n            <p><strong>{message}</strong></p>\r\n        <a onClick={remove_error} className=\"close\">close</a> </div>\r\n    )\r\n}\r\n\r\nfunction UnlockButton(){\r\n    const users = useSelector((states)=>states.SelectedUsers.Selected_IDs)\r\n    const All_Users =  useSelector((states)=>states.SelectedUsers.All_IDs)\r\n    const UpdatePath_All_IDs = SelectedUsers.actions.UpdateAll\r\n    const Reset_all_Box = SelectedUsers.actions.Reset_all_checkboxes\r\n    const Error_message = Messages.actions.UpdateErrorMessage\r\n    const Success_message = Messages.actions.UpdateSuccessMessage\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function TakeAction(){\r\n        if (!users.length == 0){\r\n            const token = localStorage.getItem('AdminTokenXXX')\r\n            fetch(currentHost+'LockUsers/a/', {\r\n                method: 'POST',\r\n\r\n                headers: {\r\n                    'Authorization': `Token ${token}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(users),\r\n            }).then(Result=>Result.json().then(Response=>{\r\n                console.log()\r\n                if (Response){\r\n                    \r\n                    const Updated_users    = Response.updated_users \r\n                    const Updated_user_ids = Updated_users.map((backendUser) => backendUser.id);\r\n                    const unchanged_users  = All_Users.filter((user) => !Updated_user_ids.includes(user.id));\r\n                    const all_updated_data = [...unchanged_users, ...Updated_users]\r\n                    dispatch(UpdatePath_All_IDs(all_updated_data))\r\n                    dispatch(Reset_all_Box(true))\r\n                    dispatch(Success_message('SuccessFully Activated!'))\r\n                    \r\n                }else{\r\n                    dispatch(Error_message('Something Went Wrong'))\r\n                }\r\n            }))\r\n            \r\n        }else{\r\n            // Error\r\n        }\r\n    }\r\n    const style = {width:'60px', height:'40px', marginLeft:'3px'}\r\n    return (\r\n        <button onClick={TakeAction} style={style} className='btn btn-secondary'>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"white\" className=\"bi bi-unlock-fill\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M11 1a2 2 0 0 0-2 2v4a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h5V3a3 3 0 0 1 6 0v4a.5.5 0 0 1-1 0V3a2 2 0 0 0-2-2z\"/>\r\n            </svg>\r\n        </button>\r\n    )\r\n}\r\n\r\n\r\nfunction LockButton(){\r\n    const users = useSelector((states)=>states.SelectedUsers.Selected_IDs)\r\n    const All_Users =  useSelector((states)=>states.SelectedUsers.All_IDs)\r\n    const UpdatePath_All_IDs = SelectedUsers.actions.UpdateAll\r\n    const Reset_all_Box = SelectedUsers.actions.Reset_all_checkboxes\r\n    const Error_message = Messages.actions.UpdateErrorMessage\r\n    const Success_message = Messages.actions.UpdateSuccessMessage\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function TakeAction(){\r\n        \r\n        if (!users.length == 0){\r\n            const token = localStorage.getItem('AdminTokenXXX')\r\n            \r\n            fetch(currentHost+'LockUsers/d/', {\r\n                method: 'POST',\r\n\r\n                headers: {\r\n                    'Authorization': `Token ${token}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(users),\r\n\r\n            }).then(Result=>Result.json().then(Response=>{\r\n                if (Response){\r\n                    \r\n                    const Updated_users    = Response.updated_users \r\n                    const Updated_user_ids = Updated_users.map((backendUser) => backendUser.id);\r\n                    const unchanged_users  = All_Users.filter((user) => !Updated_user_ids.includes(user.id));\r\n                    const all_updated_data = [...unchanged_users, ...Updated_users]\r\n                    dispatch(UpdatePath_All_IDs(all_updated_data))\r\n                    dispatch(Reset_all_Box(true))\r\n                    \r\n                    \r\n                    if(Response.current_blocked){\r\n                        dispatch(Error_message('You have Been Blocked !'))\r\n                        setTimeout(() => {\r\n                            window.location.pathname = '../login'\r\n                        }, 999);\r\n                    }else{\r\n                        dispatch(Success_message('SuccessFully Blocked!'))\r\n                    }\r\n\r\n                }\r\n            }))\r\n    \r\n        }else{\r\n            dispatch(Error_message('You have Been Blocked !'))\r\n            setTimeout(() => {\r\n                window.location.pathname = '../login'\r\n            }, 999);\r\n        }\r\n    }\r\n    \r\n    const style = {width:'60px', height:'40px'}\r\n    return (\r\n        <button onClick={TakeAction} style={style} className='btn btn-danger'>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"white\" className=\"bi bi-lock-fill\" viewBox=\"0 0 16 16\">\r\n                <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\"/>\r\n            </svg>\r\n        </button>\r\n    )\r\n}\r\n\r\nfunction UsersTable(){\r\n    const users = useSelector((states)=>states.SelectedUsers)\r\n    const All_Selected = useSelector((states)=>states.SelectedUsers.all_selected)\r\n    const ID_list = users.All_IDs\r\n    const selected_IDs = users.Selected_IDs\r\n    const dispatch = useDispatch()\r\n    const UpdatePath_Selected_IDs = SelectedUsers.actions.UpdateSelected\r\n    const all_selected_path = SelectedUsers.actions.Update_All_selected\r\n    const processedUsers = ID_list.map(User=><UserTableLine user_id={User.id} key={User.id} name={User.Name} email={User.email} status={User.status} last_login={User.last_login}/>)\r\n    const raw_IDs = ID_list.map(Each=>Each.id)\r\n    \r\n    function select_all(){\r\n        if (!All_Selected){\r\n            dispatch(UpdatePath_Selected_IDs([...raw_IDs]))\r\n        }else{\r\n            dispatch(UpdatePath_Selected_IDs([]))\r\n        }\r\n        dispatch(all_selected_path(!All_Selected))\r\n    }\r\n\r\n    function UserTableLine({user_id, name, email, last_login, status}){\r\n\r\n        const Checked = selected_IDs.includes(user_id);\r\n        \r\n        function removeDigitFromArray(array, digitToRemove) {\r\n            return array.filter((element) => element !== digitToRemove);\r\n        }   \r\n\r\n        function HandleChange(){\r\n            let updated_list;\r\n            if (Checked){\r\n                updated_list = removeDigitFromArray(selected_IDs, user_id)\r\n            }else{\r\n                updated_list = [...selected_IDs, user_id]\r\n            }\r\n            dispatch(UpdatePath_Selected_IDs(updated_list))\r\n        }\r\n\r\n        return (\r\n            <tr>\r\n                <td>\r\n                <input checked={Checked} onChange={HandleChange} type=\"checkbox\" />\r\n                </td>\r\n                <td>{name}</td>\r\n                <td>{email}</td>\r\n                <td>{last_login[0]} {last_login[1]}</td>\r\n                <td>{status}</td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n    return (\r\n\r\n        <table>\r\n            <thead>\r\n            <tr>\r\n                <th>\r\n                <small style={{ marginLeft: '-1px', marginBottom: '5px' }}>All</small>\r\n                <br />\r\n                <input checked={All_Selected} onChange={select_all} type=\"checkbox\" id=\"selectAll\" />\r\n                </th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Last Login</th>\r\n                <th>Status</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {processedUsers}\r\n            </tbody>\r\n      </table>\r\n\r\n    )\r\n}\r\n\r\nexport function LoginPage(){\r\n    const [error, update_error] = React.useState(null)\r\n    const emailField = React.useRef(null)\r\n    const passwordField = React.useRef(null)\r\n    const Authentication = async (event) => {\r\n        event.preventDefault();\r\n    \r\n        const email = emailField.current.value;\r\n        const password = passwordField.current.value;\r\n    \r\n        if (email && password) {\r\n        const host = CurrentHost();\r\n        const request = await fetch(host + 'auth/', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ email: email, password: password }),\r\n        });\r\n    \r\n        const response = await request.json();\r\n\r\n        if (request.status === 200) {\r\n            localStorage.setItem('AdminTokenXXX', response.token);\r\n            localStorage.setItem('LoginAttempt', true);\r\n            \r\n        }\r\n    \r\n        if (request.status === 401 || request.status === 500){\r\n            update_error(\r\n            (Main) => <ErrorMessage message={'This account does not exist or is blocked!'} />\r\n            );\r\n        }\r\n        }\r\n    };\r\n\r\n    React.useEffect(Main=>{\r\n        if (localStorage.getItem('LoginAttempt')){\r\n            localStorage.setItem('LoginAttempt', false);\r\n            window.location.pathname = './admin';\r\n        }\r\n    }, [])\r\n    return (\r\n        <div id='loginBase'>\r\n            <br/>\r\n            {error ? error : null}\r\n            <div className=\"container\">\r\n                \r\n                <div className=\"screen\">\r\n                    \r\n                    <div className=\"screen__content\">\r\n                        \r\n                    \r\n                        <div className=\"login\">\r\n                            \r\n                            <div className=\"login__field\">\r\n                                <i className=\"login__icon fas fa-user\"></i>\r\n                                \r\n                                <input ref={emailField} type=\"text\" className=\"login__input\" placeholder=\"Your Email\"/>\r\n                            </div>\r\n                            <div className=\"login__field\">\r\n                                <i className=\"login__icon fas fa-lock\"></i>\r\n                                <input ref={passwordField} type=\"password\" className=\"login__input\" placeholder=\"Password\"/>\r\n                            </div>\r\n                            <button type='submit' onClick={Authentication} className=\"button login__submit\">\r\n                                <span className=\"button__text\">Log In Now</span>\r\n                                <i className=\"button__icon fas fa-chevron-right\"></i>\r\n                            </button>\t\t\t\t\r\n                        </div>\r\n                        <div className=\"social-login\">\r\n                            <h3>Task 4 Admin Authentication</h3>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                    <div className=\"screen__background\">\r\n                        <span className=\"screen__background__shape screen__background__shape4\"></span>\r\n                        <span className=\"screen__background__shape screen__background__shape3\"></span>\t\t\r\n                        <span className=\"screen__background__shape screen__background__shape2\"></span>\r\n                        <span className=\"screen__background__shape screen__background__shape1\"></span>\r\n                    </div>\t\t\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"4hBAAA,MAAO,uBAAuB,CAC9B,MAAO,uBAAuB,CAC9B,MAAO,uBAAuB,CAC9B,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAAQC,aAAa,CAAEC,QAAQ,KAAO,kBAAkB,CACxD,MAAQ,CAAAC,WAAW,KAAM,QAAQ,CACjC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACxC,GAAM,CAAAC,WAAW,CAAGP,WAAW,CAAC,CAAC,CAEjC,MAAO,SAAS,CAAAQ,UAAUA,CAAA,CAAE,CAGxB,GAAM,CAAAC,QAAQ,CAAIb,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,GAAC,CAACa,YAAY,CAC1E,GAAM,CAAAC,WAAW,CAAIhB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACa,YAAY,GAAC,CAC7E,GAAM,CAAAE,kBAAkB,CAAGf,aAAa,CAACgB,OAAO,CAACC,SAAS,CAC1D,GAAM,CAAAC,SAAS,CAAIpB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACmB,OAAO,GAAC,CACtE,GAAM,CAAAC,eAAe,CAAGtB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACS,MAAM,CAACC,eAAe,GAAC,CAC5E,GAAM,CAAAC,aAAa,CAAGzB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACS,MAAM,CAACG,aAAa,GAAC,CACxE,GAAM,CAAAC,aAAa,CAAGzB,aAAa,CAACgB,OAAO,CAACU,oBAAoB,CAChE,GAAM,CAAAF,aAAa,CAAGvB,QAAQ,CAACe,OAAO,CAACW,kBAAkB,CACzD,GAAM,CAAAC,eAAe,CAAG3B,QAAQ,CAACe,OAAO,CAACa,oBAAoB,CAC7D,GAAM,CAAAC,OAAO,CAAGP,aAAa,cAAGjB,IAAA,CAACyB,YAAY,EAACD,OAAO,CAAEP,aAAc,CAAC,CAAC,CAAG,IAAI,EAAIH,eAAe,cAAGd,IAAA,CAAC0B,cAAc,EAACF,OAAO,CAAEV,eAAgB,CAAC,CAAC,CAAG,IAAI,CACtJ,GAAM,CAAAa,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACnD,GAAM,CAAAC,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAC9B,IAAAsC,eAAA,CAA4BlC,KAAK,CAACmC,QAAQ,CAAC,IAAI,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAzCI,IAAI,CAAAF,gBAAA,IAAEG,WAAW,CAAAH,gBAAA,IAAyB,QAGlC,CAAAI,WAAWA,CAAA,SAAAC,YAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,aAAA,EAAAA,YAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA1B,SAAAC,QAAA,MAAAC,OAAA,CAAAC,MAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAE0B,CAAAC,KAAK,CAACjD,WAAW,CAAC,WAAW,CAAE,CACjDkD,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACL,eAAe,UAAAC,MAAA,CAAW5B,KAAK,CACnC,CACJ,CAAC,CAAC,QALIkB,OAAO,CAAAI,QAAA,CAAAO,IAAA,MAMTX,OAAO,CAACY,MAAM,EAAE,GAAG,GAAAR,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACE,CAAAN,OAAO,CAAC/C,IAAI,CAAC,CAAC,QAA7BgD,MAAM,CAAAG,QAAA,CAAAO,IAAA,CACZpB,WAAW,CAAC,SAAAsB,IAAI,QAAE,CAAAZ,MAAM,CAACa,WAAW,CAACxB,IAAI,GAAC,CAC1CL,QAAQ,CAACrB,kBAAkB,CAACqC,MAAM,CAACc,KAAK,CAAC,CAAC,yBAAAX,QAAA,CAAAY,IAAA,MAAAjB,OAAA,GAEjD,UAAAN,YAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,QAAS,CAAAsB,MAAMA,CAAA,CAAE,CACblC,YAAY,CAACmC,UAAU,CAAC,eAAe,CAAC,CACxCC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAG,UAAU,CACzC,CAAC,QAEc,CAAAC,cAAcA,CAAA,SAAAC,eAAA,CAAA7B,KAAA,MAAAC,SAAA,YAAA4B,gBAAA,EAAAA,eAAA,CAAA3B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAA0B,SAAA,MAAAC,QAAA,CAAAC,WAAA,CAAAC,aAAA,CAAAC,cAAA,QAAA/B,mBAAA,GAAAK,IAAA,UAAA2B,UAAAC,SAAA,iBAAAA,SAAA,CAAAzB,IAAA,CAAAyB,SAAA,CAAAxB,IAAA,aACQ3C,WAAW,EAAAmE,SAAA,CAAAxB,IAAA,UAAAwB,SAAA,CAAAxB,IAAA,SACY,CAAAC,KAAK,CAACjD,WAAW,CAAC,cAAc,CAAE,CACrDkD,MAAM,CAAC,QAAQ,CACfC,OAAO,CAAE,CACL,eAAe,UAAAC,MAAA,CAAW5B,KAAK,CACnC,CAAC,CACDiD,IAAI,CAACC,IAAI,CAACC,SAAS,CAACtE,WAAW,CACnC,CACJ,CAAC,QAPS8D,QAAQ,CAAAK,SAAA,CAAAnB,IAAA,CAAAmB,SAAA,CAAAxB,IAAA,SAQY,CAAAmB,QAAQ,CAACxE,IAAI,CAAC,CAAC,QAAnCyE,WAAW,CAAAI,SAAA,CAAAnB,IAAA,CACjB,GAAIc,QAAQ,CAACb,MAAM,EAAE,GAAG,CAAC,CACfe,aAAa,CAAMD,WAAW,CAACQ,YAAY,CAC3CN,cAAc,CAAK7D,SAAS,CAACoE,MAAM,CAAC,SAACC,IAAI,QAAK,CAACT,aAAa,CAACU,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,GAAC,CACrFrD,QAAQ,CAACrB,kBAAkB,CAACgE,cAAc,CAAC,CAAC,CAC5C3C,QAAQ,CAACX,aAAa,CAAC,CAAC,CAAC,CACzBiE,OAAO,CAACC,GAAG,CAACf,QAAQ,CAACgB,cAAc,CAAC,CACpC,GAAIhB,QAAQ,CAACgB,cAAc,CAAC,CAExBxD,QAAQ,CAACZ,aAAa,CAAC,iCAAiC,CAAC,CAAC,CAC1DqE,UAAU,CAAC,UAAM,CACbvB,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAG,UAAU,CACzC,CAAC,CAAE,GAAG,CAAC,CAEX,CAAC,IAAI,CAEL,CACApC,QAAQ,CAACR,eAAe,CAAC,uBAAuB,CAAC,CAAC,CACtD,CAAC,wBAAAqD,SAAA,CAAAd,IAAA,MAAAQ,QAAA,GAER,UAAAD,eAAA,CAAA7B,KAAA,MAAAC,SAAA,GAED3C,KAAK,CAAC2F,SAAS,CAAC,SAAAC,IAAI,CAAE,CAClBpD,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,CAACpB,aAAa,CAAEH,eAAe,CAAC,CAAC,CAEpC,mBACIZ,KAAA,QAAAwF,QAAA,eACI1F,IAAA,QAAKmF,EAAE,CAAC,QAAQ,CAAAO,QAAA,cACZxF,KAAA,QAAKyF,SAAS,CAAC,OAAO,CAAAD,QAAA,eAElBxF,KAAA,QAAKiF,EAAE,CAAC,KAAK,CAAAO,QAAA,eACb1F,IAAA,OAAA0F,QAAA,cAAI1F,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAAAF,QAAA,CAAC,qBAAmB,CAAG,CAAC,CAAI,CAAC,cAC5CxF,KAAA,QAAKiF,EAAE,CAAC,gBAAgB,CAAAO,QAAA,EAAC,WAAS,cAAA1F,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAAAF,QAAA,cAACxF,KAAA,WAAAwF,QAAA,EAASvD,IAAI,CAAGA,IAAI,CAAG,OAAO,CAAC,GAAC,EAAQ,CAAC,CAAG,CAAC,cAAAnC,IAAA,SAAA0F,QAAA,CAAM,GAAC,CAAM,CAAC,IAAC,cAAA1F,IAAA,MAAG6F,OAAO,CAAE/B,MAAO,CAAA4B,QAAA,CAAC,SAAO,CAAG,CAAC,IAAC,EAAK,CAAC,EAC3I,CAAC,cAEN1F,IAAA,QAAKmF,EAAE,CAAC,YAAY,CAAAO,QAAA,cACpB1F,IAAA,QAGI,CAAC,CACA,CAAC,EAEL,CAAC,CACL,CAAC,cAGNA,IAAA,QAAKmF,EAAE,CAAC,WAAW,CAAAO,QAAA,cACnBxF,KAAA,QAAKyF,SAAS,CAAC,OAAO,CAAAD,QAAA,eAElBxF,KAAA,QAAKyF,SAAS,CAAC,WAAW,CAAAD,QAAA,EAAC,GAAC,cAAA1F,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAAAF,QAAA,CAAC,iBAAe,CAAG,CAAC,EAAK,CAAC,CAE5DlE,OAAO,CAAGA,OAAO,CAAG,IAAI,cAG7BxB,IAAA,QAAK,CAAC,cAENE,KAAA,QAAKiF,EAAE,CAAC,MAAM,CAAAO,QAAA,eAEdxF,KAAA,QAAKiF,EAAE,CAAC,SAAS,CAAAO,QAAA,eACT1F,IAAA,CAAC8F,UAAU,GAAC,CAAC,cAEb9F,IAAA,CAAC+F,YAAY,GAAC,CAAC,cAEf7F,KAAA,WAAQ2F,OAAO,CAAE1B,cAAe,CAAC6B,KAAK,CAAE,CAAC,YAAY,CAAC,MAAM,CAAE,CAACL,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAErF1F,IAAA,QAAKiG,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,OAAO,CAACT,SAAS,CAAC,kBAAkB,CAACU,OAAO,CAAC,WAAW,CAAAX,QAAA,cACxH1F,IAAA,SAAMsG,CAAC,CAAC,4SAA4S,CAAC,CAAC,CACrT,CAAC,IAAC,cAAAtG,IAAA,UAAA0F,QAAA,CAAO,iBAAe,CAAO,CAAC,EAEjC,CAAC,cAEbxF,KAAA,QAAKyF,SAAS,CAAC,KAAK,CAAAD,QAAA,eAEpBxF,KAAA,QAAKyF,SAAS,CAAC,UAAU,CAAAD,QAAA,eACrB1F,IAAA,OAAI2F,SAAS,CAAC,MAAM,CAAAD,QAAA,CAAC,wBAAsB,CAAI,CAAC,cAChDxF,KAAA,QAAKyF,SAAS,CAAC,OAAO,CAAAD,QAAA,eACtB1F,IAAA,UAAA0F,QAAA,cAAO1F,IAAA,UAAA0F,QAAA,CAAO,cAAY,CAAO,CAAC,CAAO,CAAC,cAEtC1F,IAAA,UAAOgG,KAAK,CAAE,CAACE,KAAK,CAAC,OAAO,CAAE,CAACP,SAAS,CAAC,cAAc,CAACY,IAAI,CAAC,MAAM,CAAC,CAAC,cACrEvG,IAAA,UAAO2F,SAAS,CAAC,iBAAiB,CAACY,IAAI,CAAC,QAAQ,CAACC,KAAK,CAAC,QAAQ,CAAC,CAAC,EAEhE,CAAC,EAEL,CAAC,cAENxG,IAAA,QAAK2F,SAAS,CAAC,OAAO,CAAAD,QAAA,cAEjB1F,IAAA,CAACyG,UAAU,GAAC,CAAC,CAEb,CAAC,EAED,CAAC,EAGL,CAAC,cAGNzG,IAAA,QAAKmF,EAAE,CAAC,SAAS,CAAAO,QAAA,cAEbxF,KAAA,QAAKyF,SAAS,CAAC,KAAK,CAAAD,QAAA,eAEpB1F,IAAA,QAAK2F,SAAS,CAAC,UAAU,CAAAD,QAAA,cACrB1F,IAAA,OAAA0F,QAAA,CAAI,YAAU,CAAI,CAAC,CAClB,CAAC,cAENxF,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAD,QAAA,eACxBxF,KAAA,WAAQyF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC/BxF,KAAA,QAAK+F,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,cAAc,CAACT,SAAS,CAAC,mBAAmB,CAACU,OAAO,CAAC,WAAW,CAAAX,QAAA,eAChI1F,IAAA,SAAMsG,CAAC,CAAC,iJAAiJ,CAAC,CAAC,cAC3JtG,IAAA,SAAMsG,CAAC,CAAC,uGAAuG,CAAC,CAAC,EAChH,CAAC,YACV,EAAQ,CAAC,cAETtG,IAAA,QAAI,CAAC,cACLA,IAAA,QAAI,CAAC,cAILE,KAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAD,QAAA,eACrB1F,IAAA,UAAA0F,QAAA,CAAO,SAAO,CAAO,CAAC,cACtB1F,IAAA,WAAQ2F,SAAS,CAAC,OAAO,CAAAD,QAAA,cACrB1F,IAAA,WAAQwG,KAAK,CAAC,EAAE,CAAAd,QAAA,CAAC,OAAK,CAAQ,CAAC,CAC3B,CAAC,cACT1F,IAAA,WAAQ2F,SAAS,CAAC,OAAO,CAAAD,QAAA,cACrB1F,IAAA,WAAQwG,KAAK,CAAC,EAAE,CAAAd,QAAA,CAAC,YAAU,CAAQ,CAAC,CAChC,CAAC,cACT1F,IAAA,WAAQ2F,SAAS,CAAC,OAAO,CAAAD,QAAA,cACrB1F,IAAA,WAAQwG,KAAK,CAAC,EAAE,CAAAd,QAAA,CAAC,QAAM,CAAQ,CAAC,CAC5B,CAAC,EACJ,CAAC,EAEL,CAAC,EACD,CAAC,CAEL,CAAC,EAGD,CAAC,EAEL,CAAC,CACD,CAAC,EAET,CAAC,CAGV,CAIA,QAAS,CAAAgB,WAAWA,CAACC,eAAe,CAAC,CACjC,mBACIzG,KAAA,OAAIyF,SAAS,CAAC,KAAK,CAAAD,QAAA,eACf1F,IAAA,OAAA0F,QAAA,cAAI1F,IAAA,UAAOuG,IAAI,CAAC,UAAU,CAACZ,SAAS,CAAC,UAAU,CAAE,CAAC,CAAI,CAAC,cACvD3F,IAAA,OAAA0F,QAAA,cAAI1F,IAAA,OAAA0F,QAAA,cAAIxF,KAAA,MAAG0F,IAAI,CAAC,GAAG,CAAAF,QAAA,EAAEiB,eAAe,CAACC,QAAQ,CAAC,GAAC,EAAG,CAAC,CAAI,CAAC,CAAI,CAAC,cAC7D5G,IAAA,OAAA0F,QAAA,CAAKiB,eAAe,CAACE,SAAS,CAAK,CAAC,cACpC7G,IAAA,OAAA0F,QAAA,cAAI1F,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAAAF,QAAA,CAAEiB,eAAe,CAAClD,MAAM,CAAI,CAAC,CAAI,CAAC,cACjDvD,KAAA,OAAAwF,QAAA,eAAI1F,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAACD,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAEiB,eAAe,CAAC1B,IAAI,CAAI,CAAC,cAAAjF,IAAA,MAAG4F,IAAI,CAAC,GAAG,CAACD,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,MAAI,CAAG,CAAC,EAAI,CAAC,EAC5G,CAAC,CAEb,CAGA,QAAS,CAAAhE,cAAcA,CAAAoF,IAAA,CAAW,IAAT,CAAAtF,OAAO,CAAAsF,IAAA,CAAPtF,OAAO,CAC5B,GAAM,CAAAM,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAA6B,eAAe,CAAG3B,QAAQ,CAACe,OAAO,CAACa,oBAAoB,CAC7D,GAAM,CAAAwF,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAO,CAC7BjF,QAAQ,CAACR,eAAe,CAAC,OAAO,CAAC,CAAC,CAClC8D,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC,CAChC,CAAC,CACD,mBACInF,KAAA,QAAKyF,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvB1F,IAAA,MAAA0F,QAAA,cAAG1F,IAAA,WAAA0F,QAAA,CAASlE,OAAO,CAAS,CAAC,CAAG,CAAC,cACrCxB,IAAA,MAAG6F,OAAO,CAAEkB,oBAAqB,CAACpB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAG,CAAC,IAAC,EAAK,CAAC,CAE5E,CAEA,QAAS,CAAAjE,YAAYA,CAAAuF,KAAA,CAAW,IAAT,CAAAxF,OAAO,CAAAwF,KAAA,CAAPxF,OAAO,CAC1B,GAAM,CAAAM,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAyB,aAAa,CAAGvB,QAAQ,CAACe,OAAO,CAACW,kBAAkB,CACzD,GAAM,CAAA4F,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAO,CACrBnF,QAAQ,CAACZ,aAAa,CAAC,IAAI,CAAC,CAAC,CAEjC,CAAC,CACD,mBACIhB,KAAA,QAAKyF,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC1B1F,IAAA,MAAA0F,QAAA,cAAG1F,IAAA,WAAA0F,QAAA,CAASlE,OAAO,CAAS,CAAC,CAAG,CAAC,cACrCxB,IAAA,MAAG6F,OAAO,CAAEoB,YAAa,CAACtB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAG,CAAC,IAAC,EAAK,CAAC,CAEpE,CAEA,QAAS,CAAAK,YAAYA,CAAA,CAAE,CACnB,GAAM,CAAAnC,KAAK,CAAGpE,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACa,YAAY,GAAC,CACtE,GAAM,CAAAK,SAAS,CAAIpB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACmB,OAAO,GAAC,CACtE,GAAM,CAAAJ,kBAAkB,CAAGf,aAAa,CAACgB,OAAO,CAACC,SAAS,CAC1D,GAAM,CAAAQ,aAAa,CAAGzB,aAAa,CAACgB,OAAO,CAACU,oBAAoB,CAChE,GAAM,CAAAF,aAAa,CAAGvB,QAAQ,CAACe,OAAO,CAACW,kBAAkB,CACzD,GAAM,CAAAC,eAAe,CAAG3B,QAAQ,CAACe,OAAO,CAACa,oBAAoB,CAE7D,GAAM,CAAAO,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAE9B,QAAS,CAAAyH,UAAUA,CAAA,CAAE,CACjB,GAAI,CAACtD,KAAK,CAACuD,MAAM,EAAI,CAAC,CAAC,CACnB,GAAM,CAAAxF,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CACnDuB,KAAK,CAACjD,WAAW,CAAC,cAAc,CAAE,CAC9BkD,MAAM,CAAE,MAAM,CAEdC,OAAO,CAAE,CACL,eAAe,UAAAC,MAAA,CAAW5B,KAAK,CAAE,CACjC,cAAc,CAAE,kBACpB,CAAC,CACDiD,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAClB,KAAK,CAC9B,CAAC,CAAC,CAACwD,IAAI,CAAC,SAAAC,MAAM,QAAE,CAAAA,MAAM,CAACvH,IAAI,CAAC,CAAC,CAACsH,IAAI,CAAC,SAAAE,QAAQ,CAAE,CACzClC,OAAO,CAACC,GAAG,CAAC,CAAC,CACb,GAAIiC,QAAQ,CAAC,CAET,GAAM,CAAA9C,aAAa,CAAM8C,QAAQ,CAACC,aAAa,CAC/C,GAAM,CAAAC,gBAAgB,CAAGhD,aAAa,CAACiD,GAAG,CAAC,SAACC,WAAW,QAAK,CAAAA,WAAW,CAACvC,EAAE,GAAC,CAC3E,GAAM,CAAAwC,eAAe,CAAI/G,SAAS,CAACoE,MAAM,CAAC,SAACC,IAAI,QAAK,CAACuC,gBAAgB,CAACtC,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,GAAC,CACxF,GAAM,CAAAyC,gBAAgB,IAAArE,MAAA,CAAAsE,kBAAA,CAAOF,eAAe,EAAAE,kBAAA,CAAKrD,aAAa,EAAC,CAC/D1C,QAAQ,CAACrB,kBAAkB,CAACmH,gBAAgB,CAAC,CAAC,CAC9C9F,QAAQ,CAACX,aAAa,CAAC,IAAI,CAAC,CAAC,CAC7BW,QAAQ,CAACR,eAAe,CAAC,yBAAyB,CAAC,CAAC,CAExD,CAAC,IAAI,CACDQ,QAAQ,CAACZ,aAAa,CAAC,sBAAsB,CAAC,CAAC,CACnD,CACJ,CAAC,CAAC,GAAC,CAEP,CAAC,IAAI,CACD;AAAA,CAER,CACA,GAAM,CAAA8E,KAAK,CAAG,CAACE,KAAK,CAAC,MAAM,CAAEC,MAAM,CAAC,MAAM,CAAE2B,UAAU,CAAC,KAAK,CAAC,CAC7D,mBACI9H,IAAA,WAAQ6F,OAAO,CAAEqB,UAAW,CAAClB,KAAK,CAAEA,KAAM,CAACL,SAAS,CAAC,mBAAmB,CAAAD,QAAA,cACpE1F,IAAA,QAAKiG,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,OAAO,CAACT,SAAS,CAAC,mBAAmB,CAACU,OAAO,CAAC,WAAW,CAAAX,QAAA,cACzH1F,IAAA,SAAMsG,CAAC,CAAC,yIAAyI,CAAC,CAAC,CAClJ,CAAC,CACF,CAAC,CAEjB,CAGA,QAAS,CAAAR,UAAUA,CAAA,CAAE,CACjB,GAAM,CAAAlC,KAAK,CAAGpE,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACa,YAAY,GAAC,CACtE,GAAM,CAAAK,SAAS,CAAIpB,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACmB,OAAO,GAAC,CACtE,GAAM,CAAAJ,kBAAkB,CAAGf,aAAa,CAACgB,OAAO,CAACC,SAAS,CAC1D,GAAM,CAAAQ,aAAa,CAAGzB,aAAa,CAACgB,OAAO,CAACU,oBAAoB,CAChE,GAAM,CAAAF,aAAa,CAAGvB,QAAQ,CAACe,OAAO,CAACW,kBAAkB,CACzD,GAAM,CAAAC,eAAe,CAAG3B,QAAQ,CAACe,OAAO,CAACa,oBAAoB,CAE7D,GAAM,CAAAO,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAE9B,QAAS,CAAAyH,UAAUA,CAAA,CAAE,CAEjB,GAAI,CAACtD,KAAK,CAACuD,MAAM,EAAI,CAAC,CAAC,CACnB,GAAM,CAAAxF,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAEnDuB,KAAK,CAACjD,WAAW,CAAC,cAAc,CAAE,CAC9BkD,MAAM,CAAE,MAAM,CAEdC,OAAO,CAAE,CACL,eAAe,UAAAC,MAAA,CAAW5B,KAAK,CAAE,CACjC,cAAc,CAAE,kBACpB,CAAC,CACDiD,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAClB,KAAK,CAE9B,CAAC,CAAC,CAACwD,IAAI,CAAC,SAAAC,MAAM,QAAE,CAAAA,MAAM,CAACvH,IAAI,CAAC,CAAC,CAACsH,IAAI,CAAC,SAAAE,QAAQ,CAAE,CACzC,GAAIA,QAAQ,CAAC,CAET,GAAM,CAAA9C,aAAa,CAAM8C,QAAQ,CAACC,aAAa,CAC/C,GAAM,CAAAC,gBAAgB,CAAGhD,aAAa,CAACiD,GAAG,CAAC,SAACC,WAAW,QAAK,CAAAA,WAAW,CAACvC,EAAE,GAAC,CAC3E,GAAM,CAAAwC,eAAe,CAAI/G,SAAS,CAACoE,MAAM,CAAC,SAACC,IAAI,QAAK,CAACuC,gBAAgB,CAACtC,QAAQ,CAACD,IAAI,CAACE,EAAE,CAAC,GAAC,CACxF,GAAM,CAAAyC,gBAAgB,IAAArE,MAAA,CAAAsE,kBAAA,CAAOF,eAAe,EAAAE,kBAAA,CAAKrD,aAAa,EAAC,CAC/D1C,QAAQ,CAACrB,kBAAkB,CAACmH,gBAAgB,CAAC,CAAC,CAC9C9F,QAAQ,CAACX,aAAa,CAAC,IAAI,CAAC,CAAC,CAG7B,GAAGmG,QAAQ,CAACS,eAAe,CAAC,CACxBjG,QAAQ,CAACZ,aAAa,CAAC,yBAAyB,CAAC,CAAC,CAClDqE,UAAU,CAAC,UAAM,CACbvB,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAG,UAAU,CACzC,CAAC,CAAE,GAAG,CAAC,CACX,CAAC,IAAI,CACDpC,QAAQ,CAACR,eAAe,CAAC,uBAAuB,CAAC,CAAC,CACtD,CAEJ,CACJ,CAAC,CAAC,GAAC,CAEP,CAAC,IAAI,CACDQ,QAAQ,CAACZ,aAAa,CAAC,yBAAyB,CAAC,CAAC,CAClDqE,UAAU,CAAC,UAAM,CACbvB,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAG,UAAU,CACzC,CAAC,CAAE,GAAG,CAAC,CACX,CACJ,CAEA,GAAM,CAAA8B,KAAK,CAAG,CAACE,KAAK,CAAC,MAAM,CAAEC,MAAM,CAAC,MAAM,CAAC,CAC3C,mBACInG,IAAA,WAAQ6F,OAAO,CAAEqB,UAAW,CAAClB,KAAK,CAAEA,KAAM,CAACL,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cACjE1F,IAAA,QAAKiG,KAAK,CAAC,4BAA4B,CAACC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,OAAO,CAACT,SAAS,CAAC,iBAAiB,CAACU,OAAO,CAAC,WAAW,CAAAX,QAAA,cACvH1F,IAAA,SAAMsG,CAAC,CAAC,8HAA8H,CAAC,CAAC,CACvI,CAAC,CACF,CAAC,CAEjB,CAEA,QAAS,CAAAG,UAAUA,CAAA,CAAE,CACjB,GAAM,CAAA7C,KAAK,CAAGpE,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,GAAC,CACzD,GAAM,CAAAsI,YAAY,CAAGxI,WAAW,CAAC,SAACc,MAAM,QAAG,CAAAA,MAAM,CAACZ,aAAa,CAACuI,YAAY,GAAC,CAC7E,GAAM,CAAAC,OAAO,CAAGtE,KAAK,CAAC/C,OAAO,CAC7B,GAAM,CAAAsH,YAAY,CAAGvE,KAAK,CAACrD,YAAY,CACvC,GAAM,CAAAuB,QAAQ,CAAGrC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAA2I,uBAAuB,CAAG1I,aAAa,CAACgB,OAAO,CAAC2H,cAAc,CACpE,GAAM,CAAAC,iBAAiB,CAAG5I,aAAa,CAACgB,OAAO,CAAC6H,mBAAmB,CACnE,GAAM,CAAAC,cAAc,CAAGN,OAAO,CAACT,GAAG,CAAC,SAAAgB,IAAI,qBAAEzI,IAAA,CAAC0I,aAAa,EAACC,OAAO,CAAEF,IAAI,CAACtD,EAAG,CAAehD,IAAI,CAAEsG,IAAI,CAACG,IAAK,CAACC,KAAK,CAAEJ,IAAI,CAACI,KAAM,CAACpF,MAAM,CAAEgF,IAAI,CAAChF,MAAO,CAACqF,UAAU,CAAEL,IAAI,CAACK,UAAW,EAA9FL,IAAI,CAACtD,EAA0F,CAAC,GAAC,CAChL,GAAM,CAAA4D,OAAO,CAAGb,OAAO,CAACT,GAAG,CAAC,SAAAuB,IAAI,QAAE,CAAAA,IAAI,CAAC7D,EAAE,GAAC,CAE1C,QAAS,CAAA8D,UAAUA,CAAA,CAAE,CACjB,GAAI,CAACjB,YAAY,CAAC,CACdlG,QAAQ,CAACsG,uBAAuB,CAAAP,kBAAA,CAAKkB,OAAO,CAAC,CAAC,CAAC,CACnD,CAAC,IAAI,CACDjH,QAAQ,CAACsG,uBAAuB,CAAC,EAAE,CAAC,CAAC,CACzC,CACAtG,QAAQ,CAACwG,iBAAiB,CAAC,CAACN,YAAY,CAAC,CAAC,CAC9C,CAEA,QAAS,CAAAU,aAAaA,CAAAQ,KAAA,CAA4C,IAA1C,CAAAP,OAAO,CAAAO,KAAA,CAAPP,OAAO,CAAExG,IAAI,CAAA+G,KAAA,CAAJ/G,IAAI,CAAE0G,KAAK,CAAAK,KAAA,CAALL,KAAK,CAAEC,UAAU,CAAAI,KAAA,CAAVJ,UAAU,CAAErF,MAAM,CAAAyF,KAAA,CAANzF,MAAM,CAE5D,GAAM,CAAA0F,OAAO,CAAGhB,YAAY,CAACjD,QAAQ,CAACyD,OAAO,CAAC,CAE9C,QAAS,CAAAS,oBAAoBA,CAACC,KAAK,CAAEC,aAAa,CAAE,CAChD,MAAO,CAAAD,KAAK,CAACrE,MAAM,CAAC,SAACuE,OAAO,QAAK,CAAAA,OAAO,GAAKD,aAAa,GAAC,CAC/D,CAEA,QAAS,CAAAE,YAAYA,CAAA,CAAE,CACnB,GAAI,CAAAC,YAAY,CAChB,GAAIN,OAAO,CAAC,CACRM,YAAY,CAAGL,oBAAoB,CAACjB,YAAY,CAAEQ,OAAO,CAAC,CAC9D,CAAC,IAAI,CACDc,YAAY,IAAAlG,MAAA,CAAAsE,kBAAA,CAAOM,YAAY,GAAEQ,OAAO,EAAC,CAC7C,CACA7G,QAAQ,CAACsG,uBAAuB,CAACqB,YAAY,CAAC,CAAC,CACnD,CAEA,mBACIvJ,KAAA,OAAAwF,QAAA,eACI1F,IAAA,OAAA0F,QAAA,cACA1F,IAAA,UAAO0J,OAAO,CAAEP,OAAQ,CAACQ,QAAQ,CAAEH,YAAa,CAACjD,IAAI,CAAC,UAAU,CAAE,CAAC,CAC/D,CAAC,cACLvG,IAAA,OAAA0F,QAAA,CAAKvD,IAAI,CAAK,CAAC,cACfnC,IAAA,OAAA0F,QAAA,CAAKmD,KAAK,CAAK,CAAC,cAChB3I,KAAA,OAAAwF,QAAA,EAAKoD,UAAU,CAAC,CAAC,CAAC,CAAC,GAAC,CAACA,UAAU,CAAC,CAAC,CAAC,EAAK,CAAC,cACxC9I,IAAA,OAAA0F,QAAA,CAAKjC,MAAM,CAAK,CAAC,EACjB,CAAC,CAEb,CAEA,mBAEIvD,KAAA,UAAAwF,QAAA,eACI1F,IAAA,UAAA0F,QAAA,cACAxF,KAAA,OAAAwF,QAAA,eACIxF,KAAA,OAAAwF,QAAA,eACA1F,IAAA,UAAOgG,KAAK,CAAE,CAAE8B,UAAU,CAAE,MAAM,CAAE8B,YAAY,CAAE,KAAM,CAAE,CAAAlE,QAAA,CAAC,KAAG,CAAO,CAAC,cACtE1F,IAAA,QAAK,CAAC,cACNA,IAAA,UAAO0J,OAAO,CAAE1B,YAAa,CAAC2B,QAAQ,CAAEV,UAAW,CAAC1C,IAAI,CAAC,UAAU,CAACpB,EAAE,CAAC,WAAW,CAAE,CAAC,EACjF,CAAC,cACLnF,IAAA,OAAA0F,QAAA,CAAI,MAAI,CAAI,CAAC,cACb1F,IAAA,OAAA0F,QAAA,CAAI,OAAK,CAAI,CAAC,cACd1F,IAAA,OAAA0F,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB1F,IAAA,OAAA0F,QAAA,CAAI,QAAM,CAAI,CAAC,EACf,CAAC,CACE,CAAC,cACR1F,IAAA,UAAA0F,QAAA,CACK8C,cAAc,CACZ,CAAC,EACP,CAAC,CAGd,CAEA,MAAO,SAAS,CAAAqB,SAASA,CAAA,CAAE,CACvB,IAAAC,gBAAA,CAA8BjK,KAAK,CAACmC,QAAQ,CAAC,IAAI,CAAC,CAAA+H,gBAAA,CAAA7H,cAAA,CAAA4H,gBAAA,IAA3CE,KAAK,CAAAD,gBAAA,IAAEE,YAAY,CAAAF,gBAAA,IAC1B,GAAM,CAAAG,UAAU,CAAGrK,KAAK,CAACsK,MAAM,CAAC,IAAI,CAAC,CACrC,GAAM,CAAAC,aAAa,CAAGvK,KAAK,CAACsK,MAAM,CAAC,IAAI,CAAC,CACxC,GAAM,CAAAE,cAAc,6BAAAC,KAAA,CAAA7H,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA4H,SAAOC,KAAK,MAAA3B,KAAA,CAAA4B,QAAA,CAAAC,IAAA,CAAA7H,OAAA,CAAAyB,QAAA,QAAA5B,mBAAA,GAAAK,IAAA,UAAA4H,UAAAC,SAAA,iBAAAA,SAAA,CAAA1H,IAAA,CAAA0H,SAAA,CAAAzH,IAAA,SAC/BqH,KAAK,CAACK,cAAc,CAAC,CAAC,CAEhBhC,KAAK,CAAGqB,UAAU,CAACY,OAAO,CAACtE,KAAK,CAChCiE,QAAQ,CAAGL,aAAa,CAACU,OAAO,CAACtE,KAAK,MAExCqC,KAAK,EAAI4B,QAAQ,GAAAG,SAAA,CAAAzH,IAAA,WACfuH,IAAI,CAAG9K,WAAW,CAAC,CAAC,CAAAgL,SAAA,CAAAzH,IAAA,SACJ,CAAAC,KAAK,CAACsH,IAAI,CAAG,OAAO,CAAE,CACxCrH,MAAM,CAAE,MAAM,CACduB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE+D,KAAK,CAAEA,KAAK,CAAE4B,QAAQ,CAAEA,QAAS,CAAC,CAC7D,CAAC,CAAC,QAHI5H,OAAO,CAAA+H,SAAA,CAAApH,IAAA,CAAAoH,SAAA,CAAAzH,IAAA,UAKU,CAAAN,OAAO,CAAC/C,IAAI,CAAC,CAAC,SAA/BwE,QAAQ,CAAAsG,SAAA,CAAApH,IAAA,CAEd,GAAIX,OAAO,CAACY,MAAM,GAAK,GAAG,CAAE,CACxB7B,YAAY,CAACmJ,OAAO,CAAC,eAAe,CAAEzG,QAAQ,CAAC3C,KAAK,CAAC,CACrDC,YAAY,CAACmJ,OAAO,CAAC,cAAc,CAAE,IAAI,CAAC,CAE9C,CAEA,GAAIlI,OAAO,CAACY,MAAM,GAAK,GAAG,EAAIZ,OAAO,CAACY,MAAM,GAAK,GAAG,CAAC,CACjDwG,YAAY,CACZ,SAACxE,IAAI,qBAAKzF,IAAA,CAACyB,YAAY,EAACD,OAAO,CAAE,4CAA6C,CAAE,CAAC,EACjF,CAAC,CACL,CAAC,yBAAAoJ,SAAA,CAAA/G,IAAA,MAAA0G,QAAA,GAEJ,kBA3BK,CAAAF,cAAcA,CAAAW,EAAA,SAAAV,KAAA,CAAA/H,KAAA,MAAAC,SAAA,OA2BnB,CAED3C,KAAK,CAAC2F,SAAS,CAAC,SAAAC,IAAI,CAAE,CAClB,GAAI7D,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,CACrCD,YAAY,CAACmJ,OAAO,CAAC,cAAc,CAAE,KAAK,CAAC,CAC3C/G,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAG,SAAS,CACxC,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,mBACIhE,KAAA,QAAKiF,EAAE,CAAC,WAAW,CAAAO,QAAA,eACf1F,IAAA,QAAI,CAAC,CACJgK,KAAK,CAAGA,KAAK,CAAG,IAAI,cACrBhK,IAAA,QAAK2F,SAAS,CAAC,WAAW,CAAAD,QAAA,cAEtBxF,KAAA,QAAKyF,SAAS,CAAC,QAAQ,CAAAD,QAAA,eAEnBxF,KAAA,QAAKyF,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAG5BxF,KAAA,QAAKyF,SAAS,CAAC,OAAO,CAAAD,QAAA,eAElBxF,KAAA,QAAKyF,SAAS,CAAC,cAAc,CAAAD,QAAA,eACzB1F,IAAA,MAAG2F,SAAS,CAAC,yBAAyB,CAAI,CAAC,cAE3C3F,IAAA,UAAOiL,GAAG,CAAEf,UAAW,CAAC3D,IAAI,CAAC,MAAM,CAACZ,SAAS,CAAC,cAAc,CAACuF,WAAW,CAAC,YAAY,CAAC,CAAC,EACtF,CAAC,cACNhL,KAAA,QAAKyF,SAAS,CAAC,cAAc,CAAAD,QAAA,eACzB1F,IAAA,MAAG2F,SAAS,CAAC,yBAAyB,CAAI,CAAC,cAC3C3F,IAAA,UAAOiL,GAAG,CAAEb,aAAc,CAAC7D,IAAI,CAAC,UAAU,CAACZ,SAAS,CAAC,cAAc,CAACuF,WAAW,CAAC,UAAU,CAAC,CAAC,EAC3F,CAAC,cACNhL,KAAA,WAAQqG,IAAI,CAAC,QAAQ,CAACV,OAAO,CAAEwE,cAAe,CAAC1E,SAAS,CAAC,sBAAsB,CAAAD,QAAA,eAC3E1F,IAAA,SAAM2F,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,YAAU,CAAM,CAAC,cAChD1F,IAAA,MAAG2F,SAAS,CAAC,mCAAmC,CAAI,CAAC,EACjD,CAAC,EACR,CAAC,cACN3F,IAAA,QAAK2F,SAAS,CAAC,cAAc,CAAAD,QAAA,cACzB1F,IAAA,OAAA0F,QAAA,CAAI,6BAA2B,CAAI,CAAC,CACnC,CAAC,EAEL,CAAC,cAENxF,KAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eAC/B1F,IAAA,SAAM2F,SAAS,CAAC,sDAAsD,CAAO,CAAC,cAC9E3F,IAAA,SAAM2F,SAAS,CAAC,sDAAsD,CAAO,CAAC,cAC9E3F,IAAA,SAAM2F,SAAS,CAAC,sDAAsD,CAAO,CAAC,cAC9E3F,IAAA,SAAM2F,SAAS,CAAC,sDAAsD,CAAO,CAAC,EAC7E,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}